var je=Object.defineProperty;var Ie=(e,t,r)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var C=(e,t,r)=>Ie(e,typeof t!="symbol"?t+"":t,r);var xe={Stringify:1},M=(e,t)=>{const r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},Be=/[&<>'"]/,_e=async(e,t)=>{let r="";t||(t=[]);const a=await Promise.all(e);for(let n=a.length-1;r+=a[n],n--,!(n<0);n--){let s=a[n];typeof s=="object"&&t.push(...s.callbacks||[]);const l=s.isEscaped;if(s=await(typeof s=="object"?s.toString():s),typeof s=="object"&&t.push(...s.callbacks||[]),s.isEscaped??l)r+=s;else{const f=[r];w(s,f),r=f[0]}}return M(r,t)},w=(e,t)=>{const r=e.search(Be);if(r===-1){t[0]+=e;return}let a,n,s=0;for(n=r;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 39:a="&#39;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}t[0]+=e.substring(s,n)+a,s=n+1}t[0]+=e.substring(s,n)},Fe=e=>{const t=e.callbacks;if(!t?.length)return e;const r=[e],a={};return t.forEach(n=>n({phase:xe.Stringify,buffer:r,context:a})),r[0]},ve=Symbol("RENDERER"),V=Symbol("ERROR_HANDLER"),p=Symbol("STASH"),pe=Symbol("INTERNAL"),He=Symbol("MEMO"),_={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},qe={},F="data-precedence",Ue=e=>Array.isArray(e)?e:[e],We=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),X=e=>We.get(e)||e,he=(e,t)=>{for(const[r,a]of Object.entries(e)){const n=r[0]==="-"||!/[A-Z]/.test(r)?r:r.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`);t(n,a==null?null:typeof a=="number"?n.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${a}`:`${a}px`:a)}},ze=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Ze=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],G=(e,t)=>{for(let r=0,a=e.length;r<a;r++){const n=e[r];if(typeof n=="string")w(n,t);else{if(typeof n=="boolean"||n===null||n===void 0)continue;n instanceof ge?n.toStringToBuffer(t):typeof n=="number"||n.isEscaped?t[0]+=n:n instanceof Promise?t.unshift("",n):G(n,t)}}},ge=class{constructor(e,t,r){C(this,"tag");C(this,"props");C(this,"key");C(this,"children");C(this,"isEscaped",!0);C(this,"localContexts");this.tag=e,this.props=t,this.children=r}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){const e=[""];this.localContexts?.forEach(([t,r])=>{t.values.push(r)});try{this.toStringToBuffer(e)}finally{this.localContexts?.forEach(([t])=>{t.values.pop()})}return e.length===1?"callbacks"in e?Fe(M(e[0],e.callbacks)).toString():e[0]:_e(e,e.callbacks)}toStringToBuffer(e){const t=this.tag,r=this.props;let{children:a}=this;e[0]+=`<${t}`;const n=s=>X(s);for(let[s,l]of Object.entries(r))if(s=n(s),s!=="children"){if(s==="style"&&typeof l=="object"){let f="";he(l,(v,o)=>{o!=null&&(f+=`${f?";":""}${v}:${o}`)}),e[0]+=' style="',w(f,e),e[0]+='"'}else if(typeof l=="string")e[0]+=` ${s}="`,w(l,e),e[0]+='"';else if(l!=null)if(typeof l=="number"||l.isEscaped)e[0]+=` ${s}="${l}"`;else if(typeof l=="boolean"&&Ze.includes(s))l&&(e[0]+=` ${s}=""`);else if(s==="dangerouslySetInnerHTML"){if(a.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");a=[M(l.__html)]}else if(l instanceof Promise)e[0]+=` ${s}="`,e.unshift('"',l);else if(typeof l=="function"){if(!s.startsWith("on")&&s!=="ref")throw new Error(`Invalid prop '${s}' of type 'function' supplied to '${t}'.`)}else e[0]+=` ${s}="`,w(l.toString(),e),e[0]+='"'}if(ze.includes(t)&&a.length===0){e[0]+="/>";return}e[0]+=">",G(a,e),e[0]+=`</${t}>`}},Ve=class extends ge{toStringToBuffer(e){G(this.children,e)}},re=e=>(e[pe]=!0,e),me=e=>({value:t,children:r})=>{if(!r)return;const a={children:[{tag:re(()=>{e.push(t)}),props:{}}]};Array.isArray(r)?a.children.push(...r.flat()):a.children.push(r),a.children.push({tag:re(()=>{e.pop()}),props:{}});const n={tag:"",props:a,type:""};return n[V]=s=>{throw e.pop(),s},n},ye=e=>{const t=[e],r=me(t);return r.values=t,r.Provider=r,$.push(r),r},$=[],Xe=e=>{const t=[e],r=a=>{t.push(a.value);let n;try{n=a.children?(Array.isArray(a.children)?new Ve("",{},a.children):a.children).toString():""}finally{t.pop()}return n instanceof Promise?n.then(s=>M(s,s.callbacks)):M(n)};return r.values=t,r.Provider=r,r[ve]=me(t),$.push(r),r},de=e=>e.values.at(-1),R="_hp",Ke={Change:"Input",DoubleClick:"DblClick"},Ge={svg:"2000/svg",math:"1998/Math/MathML"},S=[],K=new WeakMap,N=void 0,Je=()=>N,E=e=>"t"in e,H={onClick:["click",!1]},ae=e=>{if(!e.startsWith("on"))return;if(H[e])return H[e];const t=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(t){const[,r,a]=t;return H[e]=[(Ke[r]||r).toLowerCase(),!!a]}},ne=(e,t)=>N&&e instanceof SVGElement&&/[A-Z]/.test(t)&&(t in e.style||t.match(/^(?:o|pai|str|u|ve)/))?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,Qe=(e,t,r)=>{t||(t={});for(let a in t){const n=t[a];if(a!=="children"&&(!r||r[a]!==n)){a=X(a);const s=ae(a);if(s){if(r?.[a]!==n&&(r&&e.removeEventListener(s[0],r[a],s[1]),n!=null)){if(typeof n!="function")throw new Error(`Event handler for "${a}" is not a function`);e.addEventListener(s[0],n,s[1])}}else if(a==="dangerouslySetInnerHTML"&&n)e.innerHTML=n.__html;else if(a==="ref"){let l;typeof n=="function"?l=n(e)||(()=>n(null)):n&&"current"in n&&(n.current=e,l=()=>n.current=null),K.set(e,l)}else if(a==="style"){const l=e.style;typeof n=="string"?l.cssText=n:(l.cssText="",n!=null&&he(n,l.setProperty.bind(l)))}else{if(a==="value"){const f=e.nodeName;if(f==="INPUT"||f==="TEXTAREA"||f==="SELECT"){if(e.value=n==null||n===!1?null:n,f==="TEXTAREA"){e.textContent=n;continue}else if(f==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(a==="checked"&&e.nodeName==="INPUT"||a==="selected"&&e.nodeName==="OPTION")&&(e[a]=n);const l=ne(e,a);n==null||n===!1?e.removeAttribute(l):n===!0?e.setAttribute(l,""):typeof n=="string"||typeof n=="number"?e.setAttribute(l,n):e.setAttribute(l,n.toString())}}}if(r)for(let a in r){const n=r[a];if(a!=="children"&&!(a in t)){a=X(a);const s=ae(a);s?e.removeEventListener(s[0],n,s[1]):a==="ref"?K.get(e)?.():e.removeAttribute(ne(e,a))}}},Ye=(e,t)=>{t[p][0]=0,S.push([e,t]);const r=t.tag[ve]||t.tag,a=r.defaultProps?{...r.defaultProps,...t.props}:t.props;try{return[r.call(null,a)]}finally{S.pop()}},Ee=(e,t,r,a,n)=>{e.vR?.length&&(a.push(...e.vR),delete e.vR),typeof e.tag=="function"&&e[p][1][T]?.forEach(s=>n.push(s)),e.vC.forEach(s=>{if(E(s))r.push(s);else if(typeof s.tag=="function"||s.tag===""){s.c=t;const l=r.length;if(Ee(s,t,r,a,n),s.s){for(let f=l;f<r.length;f++)r[f].s=!0;s.s=!1}}else r.push(s),s.vR?.length&&(a.push(...s.vR),delete s.vR)})},et=e=>{for(;;e=e.tag===R||!e.vC||!e.pP?e.nN:e.vC[0]){if(!e)return null;if(e.tag!==R&&e.e)return e.e}},be=e=>{E(e)||(e[p]?.[1][T]?.forEach(t=>t[2]?.()),K.get(e.e)?.(),e.p===2&&e.vC?.forEach(t=>t.p=2),e.vC?.forEach(be)),e.p||(e.e?.remove(),delete e.e),typeof e.tag=="function"&&(A.delete(e),D.delete(e),delete e[p][3],e.a=!0)},J=(e,t,r)=>{e.c=t,Ce(e,t,r)},se=(e,t)=>{if(t){for(let r=0,a=e.length;r<a;r++)if(e[r]===t)return r}},ie=Symbol(),Ce=(e,t,r)=>{const a=[],n=[],s=[];Ee(e,t,a,n,s),n.forEach(be);const l=r?void 0:t.childNodes;let f,v=null;if(r)f=-1;else if(!l.length)f=0;else{const o=se(l,et(e.nN));o!==void 0?(v=l[o],f=o):f=se(l,a.find(c=>c.tag!==R&&c.e)?.e)??-1,f===-1&&(r=!0)}for(let o=0,c=a.length;o<c;o++,f++){const i=a[o];let u;if(i.s&&i.e)u=i.e,i.s=!1;else{const y=r||!i.e;E(i)?(i.e&&i.d&&(i.e.textContent=i.t),i.d=!1,u=i.e||(i.e=document.createTextNode(i.t))):(u=i.e||(i.e=i.n?document.createElementNS(i.n,i.tag):document.createElement(i.tag)),Qe(u,i.props,i.pP),Ce(i,u,y))}i.tag===R?f--:r?u.parentNode||t.appendChild(u):l[f]!==u&&l[f-1]!==u&&(l[f+1]===u?t.appendChild(l[f]):t.insertBefore(u,v||l[f]||null))}if(e.pP&&delete e.pP,s.length){const o=[],c=[];s.forEach(([,i,,u,y])=>{i&&o.push(i),u&&c.push(u),y?.()}),o.forEach(i=>i()),c.length&&requestAnimationFrame(()=>{c.forEach(i=>i())})}},tt=(e,t)=>!!(e&&e.length===t.length&&e.every((r,a)=>r[1]===t[a][1])),D=new WeakMap,j=(e,t,r)=>{const a=!r&&t.pC;r&&(t.pC||(t.pC=t.vC));let n;try{r||(r=typeof t.tag=="function"?Ye(e,t):Ue(t.props.children)),r[0]?.tag===""&&r[0][V]&&(n=r[0][V],e[5].push([e,n,t]));const s=a?[...t.pC]:t.vC?[...t.vC]:void 0,l=[];let f;for(let v=0;v<r.length;v++){Array.isArray(r[v])&&r.splice(v,1,...r[v].flat());let o=ke(r[v]);if(o){typeof o.tag=="function"&&!o.tag[pe]&&($.length>0&&(o[p][2]=$.map(i=>[i,i.values.at(-1)])),e[5]?.length&&(o[p][3]=e[5].at(-1)));let c;if(s&&s.length){const i=s.findIndex(E(o)?u=>E(u):o.key!==void 0?u=>u.key===o.key&&u.tag===o.tag:u=>u.tag===o.tag);i!==-1&&(c=s[i],s.splice(i,1))}if(c)if(E(o))c.t!==o.t&&(c.t=o.t,c.d=!0),o=c;else{const i=c.pP=c.props;if(c.props=o.props,c.f||(c.f=o.f||t.f),typeof o.tag=="function"){const u=c[p][2];c[p][2]=o[p][2]||[],c[p][3]=o[p][3],!c.f&&((c.o||c)===o.o||c.tag[He]?.(i,c.props))&&tt(u,c[p][2])&&(c.s=!0)}o=c}else if(!E(o)&&N){const i=de(N);i&&(o.n=i)}if(!E(o)&&!o.s&&(j(e,o),delete o.f),l.push(o),f&&!f.s&&!o.s)for(let i=f;i&&!E(i);i=i.vC?.at(-1))i.nN=o;f=o}}t.vR=a?[...t.vC,...s||[]]:s||[],t.vC=l,a&&delete t.pC}catch(s){if(t.f=!0,s===ie){if(n)return;throw s}const[l,f,v]=t[p]?.[3]||[];if(f){const o=()=>O([0,!1,e[2]],v),c=D.get(v)||[];c.push(o),D.set(v,c);const i=f(s,()=>{const u=D.get(v);if(u){const y=u.indexOf(o);if(y!==-1)return u.splice(y,1),o()}});if(i){if(e[0]===1)e[1]=!0;else if(j(e,v,[i]),(f.length===1||e!==l)&&v.c){J(v,v.c,!1);return}throw ie}}throw s}finally{n&&e[5].pop()}},ke=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return{t:e.toString(),d:!0};if("vR"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag=="function")e[p]=[0,[]];else{const t=Ge[e.tag];t&&(N||(N=ye("")),e.props.children=[{tag:N,props:{value:e.n=`http://www.w3.org/${t}`,children:e.props.children}}])}return e}},Se=(e,t,r)=>{e.c===t&&(e.c=r,e.vC.forEach(a=>Se(a,t,r)))},le=(e,t)=>{t[p][2]?.forEach(([r,a])=>{r.values.push(a)});try{j(e,t,void 0)}catch{return}if(t.a){delete t.a;return}t[p][2]?.forEach(([r])=>{r.values.pop()}),(e[0]!==1||!e[1])&&J(t,t.c,!1)},A=new WeakMap,oe=[],O=async(e,t)=>{e[5]||(e[5]=[]);const r=A.get(t);r&&r[0](void 0);let a;const n=new Promise(s=>a=s);if(A.set(t,[a,()=>{e[2]?e[2](e,t,s=>{le(s,t)}).then(()=>a(t)):(le(e,t),a(t))}]),oe.length)oe.at(-1).add(t);else{await Promise.resolve();const s=A.get(t);s&&(A.delete(t),s[1]())}return n},rt=(e,t)=>{const r=[];r[5]=[],r[4]=!0,j(r,e,void 0),r[4]=!1;const a=document.createDocumentFragment();J(e,a,!0),Se(e,a,t),t.replaceChildren(a)},ht=(e,t)=>{rt(ke({tag:"",props:{children:e}}),t)},at=(e,t,r)=>({tag:R,props:{children:e},key:r,e:t,p:1}),q=0,T=1,U=2,W=3,z=4,Z=new WeakMap,Q=(e,t)=>!e||!t||e.length!==t.length||t.some((r,a)=>r!==e[a]),nt=void 0,fe=[],st=e=>{var l;const t=()=>typeof e=="function"?e():e,r=S.at(-1);if(!r)return[t(),()=>{}];const[,a]=r,n=(l=a[p][1])[q]||(l[q]=[]),s=a[p][0]++;return n[s]||(n[s]=[t(),f=>{const v=nt,o=n[s];if(typeof f=="function"&&(f=f(o[0])),!Object.is(f,o[0]))if(o[0]=f,fe.length){const[c,i]=fe.at(-1);Promise.all([c===3?a:O([c,!1,v],a),i]).then(([u])=>{if(!u||!(c===2||c===3))return;const y=u.vC;requestAnimationFrame(()=>{setTimeout(()=>{y===u.vC&&O([c===3?1:0,!1,v],u)})})})}else O([0,!1,v],a)}])},it=(e,t,r)=>{var o;const a=S.at(-1);if(!a)return;const[,n]=a,s=(o=n[p][1])[T]||(o[T]=[]),l=n[p][0]++,[f,,v]=s[l]||(s[l]=[]);if(Q(f,r)){v&&v();const c=()=>{i[e]=void 0,i[2]=t()},i=[r,void 0,void 0,void 0,void 0];i[e]=c,s[l]=i}},gt=(e,t)=>it(3,e,t),Y=(e,t)=>{var f;const r=S.at(-1);if(!r)return e;const[,a]=r,n=(f=a[p][1])[U]||(f[U]=[]),s=a[p][0]++,l=n[s];return Q(l?.[1],t)?n[s]=[e,t]:e=n[s][0],e},mt=e=>{var s;const t=S.at(-1);if(!t)return{current:e};const[,r]=t,a=(s=r[p][1])[z]||(s[z]=[]),n=r[p][0]++;return a[n]||(a[n]={current:e})},lt=e=>{const t=Z.get(e);if(t){if(t.length===2)throw t[1];return t[0]}throw e.then(r=>Z.set(e,[r]),r=>Z.set(e,[void 0,r])),e},ot=(e,t)=>{var f;const r=S.at(-1);if(!r)return e();const[,a]=r,n=(f=a[p][1])[W]||(f[W]=[]),s=a[p][0]++,l=n[s];return Q(l?.[1],t)&&(n[s]=[e(),t]),n[s][0]},ft=ye({pending:!1,data:null,method:null,action:null}),ce=new Set,ct=e=>{ce.add(e),e.finally(()=>ce.delete(e))},ut=()=>{k=Object.create(null),P=Object.create(null)},I=(e,t)=>ot(()=>r=>{let a;e&&(typeof e=="function"?a=e(r)||(()=>{e(null)}):e&&"current"in e&&(e.current=r,a=()=>{e.current=null}));const n=t(r);return()=>{n?.(),a?.()}},[e]),k=Object.create(null),P=Object.create(null),L=(e,t,r,a,n)=>{if(t?.itemProp)return{tag:e,props:t,type:e,ref:t.ref};const s=document.head;let{onLoad:l,onError:f,precedence:v,blocking:o,...c}=t,i=null,u=!1;const y=_[e];let b;if(y.length>0){const m=s.querySelectorAll(e);e:for(const g of m)for(const h of _[e])if(g.getAttribute(h)===t[h]){i=g;break e}if(!i){const g=y.reduce((h,d)=>t[d]===void 0?h:`${h}-${d}-${t[d]}`,e);u=!P[g],i=P[g]||(P[g]=(()=>{const h=document.createElement(e);for(const d of y)t[d]!==void 0&&h.setAttribute(d,t[d]),t.rel&&h.setAttribute("rel",t.rel);return h})())}}else b=s.querySelectorAll(e);v=a?v??"":void 0,a&&(c[F]=v);const ee=Y(m=>{if(y.length>0){let g=!1;for(const h of s.querySelectorAll(e)){if(g&&h.getAttribute(F)!==v){s.insertBefore(m,h);return}h.getAttribute(F)===v&&(g=!0)}s.appendChild(m)}else if(b){let g=!1;for(const h of b)if(h===m){g=!0;break}g||s.insertBefore(m,s.contains(b[0])?b[0]:s.querySelector(e)),b=void 0}},[v]),te=I(t.ref,m=>{var d;const g=y[0];if(r===2&&(m.innerHTML=""),(u||b)&&ee(m),!f&&!l)return;let h=k[d=m.getAttribute(g)]||(k[d]=new Promise((B,$e)=>{m.addEventListener("load",B),m.addEventListener("error",$e)}));l&&(h=h.then(l)),f&&(h=h.catch(f)),h.catch(()=>{})});if(n&&o==="render"){const m=_[e][0];if(t[m]){const g=t[m],h=k[g]||(k[g]=new Promise((d,B)=>{ee(i),i.addEventListener("load",d),i.addEventListener("error",B)}));lt(h)}}const x={tag:e,type:e,props:{...c,ref:te},ref:te};return x.p=r,i&&(x.e=i),at(x,s)},Ne=e=>{const t=Je();return(t&&de(t))?.endsWith("svg")?{tag:"title",props:e,type:"title",ref:e.ref}:L("title",e,void 0,!1,!1)},Ae=e=>!e||["src","async"].some(t=>!e[t])?{tag:"script",props:e,type:"script",ref:e.ref}:L("script",e,1,!1,!0),Pe=e=>!e||!["href","precedence"].every(t=>t in e)?{tag:"style",props:e,type:"style",ref:e.ref}:(e["data-href"]=e.href,delete e.href,L("style",e,2,!0,!0)),we=e=>!e||["onLoad","onError"].some(t=>t in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?{tag:"link",props:e,type:"link",ref:e.ref}:L("link",e,1,"precedence"in e,!0),Te=e=>L("meta",e,void 0,!1,!1),Me=Symbol(),Re=e=>{const{action:t,...r}=e;typeof t!="function"&&(r.action=t);const[a,n]=st([null,!1]),s=Y(async o=>{const c=o.isTrusted?t:o.detail[Me];if(typeof c!="function")return;o.preventDefault();const i=new FormData(o.target);n([i,!0]);const u=c(i);u instanceof Promise&&(ct(u),await u),n([null,!0])},[]),l=I(e.ref,o=>(o.addEventListener("submit",s),()=>{o.removeEventListener("submit",s)})),[f,v]=a;return a[1]=!1,{tag:ft,props:{value:{pending:f!==null,data:f,method:f?"post":null,action:f?t:null},children:{tag:"form",props:{...r,ref:l},type:"form",ref:l}},f:v}},Le=(e,{formAction:t,...r})=>{if(typeof t=="function"){const a=Y(n=>{n.preventDefault(),n.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[Me]:t}}))},[]);r.ref=I(r.ref,n=>(n.addEventListener("click",a),()=>{n.removeEventListener("click",a)}))}return{tag:e,props:r,type:e,ref:r.ref}},De=e=>Le("input",e),Oe=e=>Le("button",e);Object.assign(qe,{title:Ne,script:Ae,style:Pe,link:we,meta:Te,form:Re,input:De,button:Oe});const ue=Object.freeze(Object.defineProperty({__proto__:null,button:Oe,clearCache:ut,composeRef:I,form:Re,input:De,link:we,meta:Te,script:Ae,style:Pe,title:Ne},Symbol.toStringTag,{value:"Module"}));var vt=(e,t,r)=>(typeof e=="string"&&ue[e]&&(e=ue[e]),{tag:e,type:e,props:t,key:r,ref:t.ref}),yt=e=>vt("",e,void 0);Xe(null);new TextEncoder;export{yt as F,mt as a,gt as b,vt as j,ht as r,st as u};
//# sourceMappingURL=streaming-BQkSWh89.js.map
