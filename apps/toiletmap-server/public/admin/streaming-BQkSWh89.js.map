{"version":3,"file":"streaming-BQkSWh89.js","sources":["../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/utils/html.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/constants.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/intrinsic-element/common.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/children.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/utils.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/base.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/dom/utils.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/dom/context.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/context.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/dom/render.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/hooks/index.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/dom/hooks/index.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/dom/intrinsic-element/components.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/dom/jsx-dev-runtime.js","../../../../node_modules/.pnpm/hono@4.10.7/node_modules/hono/dist/jsx/streaming.js"],"sourcesContent":["// src/utils/html.ts\nvar HtmlEscapedCallbackPhase = {\n  Stringify: 1,\n  BeforeStream: 2,\n  Stream: 3\n};\nvar raw = (value, callbacks) => {\n  const escapedString = new String(value);\n  escapedString.isEscaped = true;\n  escapedString.callbacks = callbacks;\n  return escapedString;\n};\nvar escapeRe = /[&<>'\"]/;\nvar stringBufferToString = async (buffer, callbacks) => {\n  let str = \"\";\n  callbacks ||= [];\n  const resolvedBuffer = await Promise.all(buffer);\n  for (let i = resolvedBuffer.length - 1; ; i--) {\n    str += resolvedBuffer[i];\n    i--;\n    if (i < 0) {\n      break;\n    }\n    let r = resolvedBuffer[i];\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    const isEscaped = r.isEscaped;\n    r = await (typeof r === \"object\" ? r.toString() : r);\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    if (r.isEscaped ?? isEscaped) {\n      str += r;\n    } else {\n      const buf = [str];\n      escapeToBuffer(r, buf);\n      str = buf[0];\n    }\n  }\n  return raw(str, callbacks);\n};\nvar escapeToBuffer = (str, buffer) => {\n  const match = str.search(escapeRe);\n  if (match === -1) {\n    buffer[0] += str;\n    return;\n  }\n  let escape;\n  let index;\n  let lastIndex = 0;\n  for (index = match; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escape = \"&quot;\";\n        break;\n      case 39:\n        escape = \"&#39;\";\n        break;\n      case 38:\n        escape = \"&amp;\";\n        break;\n      case 60:\n        escape = \"&lt;\";\n        break;\n      case 62:\n        escape = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    buffer[0] += str.substring(lastIndex, index) + escape;\n    lastIndex = index + 1;\n  }\n  buffer[0] += str.substring(lastIndex, index);\n};\nvar resolveCallbackSync = (str) => {\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return str;\n  }\n  const buffer = [str];\n  const context = {};\n  callbacks.forEach((c) => c({ phase: HtmlEscapedCallbackPhase.Stringify, buffer, context }));\n  return buffer[0];\n};\nvar resolveCallback = async (str, phase, preserveCallbacks, context, buffer) => {\n  if (typeof str === \"object\" && !(str instanceof String)) {\n    if (!(str instanceof Promise)) {\n      str = str.toString();\n    }\n    if (str instanceof Promise) {\n      str = await str;\n    }\n  }\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return Promise.resolve(str);\n  }\n  if (buffer) {\n    buffer[0] += str;\n  } else {\n    buffer = [str];\n  }\n  const resStr = Promise.all(callbacks.map((c) => c({ phase, buffer, context }))).then(\n    (res) => Promise.all(\n      res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))\n    ).then(() => buffer[0])\n  );\n  if (preserveCallbacks) {\n    return raw(await resStr, callbacks);\n  } else {\n    return resStr;\n  }\n};\nexport {\n  HtmlEscapedCallbackPhase,\n  escapeToBuffer,\n  raw,\n  resolveCallback,\n  resolveCallbackSync,\n  stringBufferToString\n};\n","// src/jsx/constants.ts\nvar DOM_RENDERER = Symbol(\"RENDERER\");\nvar DOM_ERROR_HANDLER = Symbol(\"ERROR_HANDLER\");\nvar DOM_STASH = Symbol(\"STASH\");\nvar DOM_INTERNAL_TAG = Symbol(\"INTERNAL\");\nvar DOM_MEMO = Symbol(\"MEMO\");\nvar PERMALINK = Symbol(\"PERMALINK\");\nexport {\n  DOM_ERROR_HANDLER,\n  DOM_INTERNAL_TAG,\n  DOM_MEMO,\n  DOM_RENDERER,\n  DOM_STASH,\n  PERMALINK\n};\n","// src/jsx/intrinsic-element/common.ts\nvar deDupeKeyMap = {\n  title: [],\n  script: [\"src\"],\n  style: [\"data-href\"],\n  link: [\"href\"],\n  meta: [\"name\", \"httpEquiv\", \"charset\", \"itemProp\"]\n};\nvar domRenderers = {};\nvar dataPrecedenceAttr = \"data-precedence\";\nexport {\n  dataPrecedenceAttr,\n  deDupeKeyMap,\n  domRenderers\n};\n","// src/jsx/children.ts\nvar toArray = (children) => Array.isArray(children) ? children : [children];\nvar Children = {\n  map: (children, fn) => toArray(children).map(fn),\n  forEach: (children, fn) => {\n    toArray(children).forEach(fn);\n  },\n  count: (children) => toArray(children).length,\n  only: (_children) => {\n    const children = toArray(_children);\n    if (children.length !== 1) {\n      throw new Error(\"Children.only() expects only one child\");\n    }\n    return children[0];\n  },\n  toArray\n};\nexport {\n  Children,\n  toArray\n};\n","// src/jsx/utils.ts\nvar normalizeElementKeyMap = /* @__PURE__ */ new Map([\n  [\"className\", \"class\"],\n  [\"htmlFor\", \"for\"],\n  [\"crossOrigin\", \"crossorigin\"],\n  [\"httpEquiv\", \"http-equiv\"],\n  [\"itemProp\", \"itemprop\"],\n  [\"fetchPriority\", \"fetchpriority\"],\n  [\"noModule\", \"nomodule\"],\n  [\"formAction\", \"formaction\"]\n]);\nvar normalizeIntrinsicElementKey = (key) => normalizeElementKeyMap.get(key) || key;\nvar styleObjectForEach = (style, fn) => {\n  for (const [k, v] of Object.entries(style)) {\n    const key = k[0] === \"-\" || !/[A-Z]/.test(k) ? k : k.replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`);\n    fn(\n      key,\n      v == null ? null : typeof v === \"number\" ? !key.match(\n        /^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/\n      ) ? `${v}px` : `${v}` : v\n    );\n  }\n};\nexport {\n  normalizeIntrinsicElementKey,\n  styleObjectForEach\n};\n","// src/jsx/base.ts\nimport { raw } from \"../helper/html/index.js\";\nimport { escapeToBuffer, resolveCallbackSync, stringBufferToString } from \"../utils/html.js\";\nimport { DOM_RENDERER, DOM_MEMO } from \"./constants.js\";\nimport { createContext, globalContexts, useContext } from \"./context.js\";\nimport { domRenderers } from \"./intrinsic-element/common.js\";\nimport * as intrinsicElementTags from \"./intrinsic-element/components.js\";\nimport { normalizeIntrinsicElementKey, styleObjectForEach } from \"./utils.js\";\nvar nameSpaceContext = void 0;\nvar getNameSpaceContext = () => nameSpaceContext;\nvar toSVGAttributeName = (key) => /[A-Z]/.test(key) && key.match(\n  /^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/\n) ? key.replace(/([A-Z])/g, \"-$1\").toLowerCase() : key;\nvar emptyTags = [\n  \"area\",\n  \"base\",\n  \"br\",\n  \"col\",\n  \"embed\",\n  \"hr\",\n  \"img\",\n  \"input\",\n  \"keygen\",\n  \"link\",\n  \"meta\",\n  \"param\",\n  \"source\",\n  \"track\",\n  \"wbr\"\n];\nvar booleanAttributes = [\n  \"allowfullscreen\",\n  \"async\",\n  \"autofocus\",\n  \"autoplay\",\n  \"checked\",\n  \"controls\",\n  \"default\",\n  \"defer\",\n  \"disabled\",\n  \"download\",\n  \"formnovalidate\",\n  \"hidden\",\n  \"inert\",\n  \"ismap\",\n  \"itemscope\",\n  \"loop\",\n  \"multiple\",\n  \"muted\",\n  \"nomodule\",\n  \"novalidate\",\n  \"open\",\n  \"playsinline\",\n  \"readonly\",\n  \"required\",\n  \"reversed\",\n  \"selected\"\n];\nvar childrenToStringToBuffer = (children, buffer) => {\n  for (let i = 0, len = children.length; i < len; i++) {\n    const child = children[i];\n    if (typeof child === \"string\") {\n      escapeToBuffer(child, buffer);\n    } else if (typeof child === \"boolean\" || child === null || child === void 0) {\n      continue;\n    } else if (child instanceof JSXNode) {\n      child.toStringToBuffer(buffer);\n    } else if (typeof child === \"number\" || child.isEscaped) {\n      ;\n      buffer[0] += child;\n    } else if (child instanceof Promise) {\n      buffer.unshift(\"\", child);\n    } else {\n      childrenToStringToBuffer(child, buffer);\n    }\n  }\n};\nvar JSXNode = class {\n  tag;\n  props;\n  key;\n  children;\n  isEscaped = true;\n  localContexts;\n  constructor(tag, props, children) {\n    this.tag = tag;\n    this.props = props;\n    this.children = children;\n  }\n  get type() {\n    return this.tag;\n  }\n  get ref() {\n    return this.props.ref || null;\n  }\n  toString() {\n    const buffer = [\"\"];\n    this.localContexts?.forEach(([context, value]) => {\n      context.values.push(value);\n    });\n    try {\n      this.toStringToBuffer(buffer);\n    } finally {\n      this.localContexts?.forEach(([context]) => {\n        context.values.pop();\n      });\n    }\n    return buffer.length === 1 ? \"callbacks\" in buffer ? resolveCallbackSync(raw(buffer[0], buffer.callbacks)).toString() : buffer[0] : stringBufferToString(buffer, buffer.callbacks);\n  }\n  toStringToBuffer(buffer) {\n    const tag = this.tag;\n    const props = this.props;\n    let { children } = this;\n    buffer[0] += `<${tag}`;\n    const normalizeKey = nameSpaceContext && useContext(nameSpaceContext) === \"svg\" ? (key) => toSVGAttributeName(normalizeIntrinsicElementKey(key)) : (key) => normalizeIntrinsicElementKey(key);\n    for (let [key, v] of Object.entries(props)) {\n      key = normalizeKey(key);\n      if (key === \"children\") {\n      } else if (key === \"style\" && typeof v === \"object\") {\n        let styleStr = \"\";\n        styleObjectForEach(v, (property, value) => {\n          if (value != null) {\n            styleStr += `${styleStr ? \";\" : \"\"}${property}:${value}`;\n          }\n        });\n        buffer[0] += ' style=\"';\n        escapeToBuffer(styleStr, buffer);\n        buffer[0] += '\"';\n      } else if (typeof v === \"string\") {\n        buffer[0] += ` ${key}=\"`;\n        escapeToBuffer(v, buffer);\n        buffer[0] += '\"';\n      } else if (v === null || v === void 0) {\n      } else if (typeof v === \"number\" || v.isEscaped) {\n        buffer[0] += ` ${key}=\"${v}\"`;\n      } else if (typeof v === \"boolean\" && booleanAttributes.includes(key)) {\n        if (v) {\n          buffer[0] += ` ${key}=\"\"`;\n        }\n      } else if (key === \"dangerouslySetInnerHTML\") {\n        if (children.length > 0) {\n          throw new Error(\"Can only set one of `children` or `props.dangerouslySetInnerHTML`.\");\n        }\n        children = [raw(v.__html)];\n      } else if (v instanceof Promise) {\n        buffer[0] += ` ${key}=\"`;\n        buffer.unshift('\"', v);\n      } else if (typeof v === \"function\") {\n        if (!key.startsWith(\"on\") && key !== \"ref\") {\n          throw new Error(`Invalid prop '${key}' of type 'function' supplied to '${tag}'.`);\n        }\n      } else {\n        buffer[0] += ` ${key}=\"`;\n        escapeToBuffer(v.toString(), buffer);\n        buffer[0] += '\"';\n      }\n    }\n    if (emptyTags.includes(tag) && children.length === 0) {\n      buffer[0] += \"/>\";\n      return;\n    }\n    buffer[0] += \">\";\n    childrenToStringToBuffer(children, buffer);\n    buffer[0] += `</${tag}>`;\n  }\n};\nvar JSXFunctionNode = class extends JSXNode {\n  toStringToBuffer(buffer) {\n    const { children } = this;\n    const props = { ...this.props };\n    if (children.length) {\n      props.children = children.length === 1 ? children[0] : children;\n    }\n    const res = this.tag.call(null, props);\n    if (typeof res === \"boolean\" || res == null) {\n      return;\n    } else if (res instanceof Promise) {\n      if (globalContexts.length === 0) {\n        buffer.unshift(\"\", res);\n      } else {\n        const currentContexts = globalContexts.map((c) => [c, c.values.at(-1)]);\n        buffer.unshift(\n          \"\",\n          res.then((childRes) => {\n            if (childRes instanceof JSXNode) {\n              childRes.localContexts = currentContexts;\n            }\n            return childRes;\n          })\n        );\n      }\n    } else if (res instanceof JSXNode) {\n      res.toStringToBuffer(buffer);\n    } else if (typeof res === \"number\" || res.isEscaped) {\n      buffer[0] += res;\n      if (res.callbacks) {\n        buffer.callbacks ||= [];\n        buffer.callbacks.push(...res.callbacks);\n      }\n    } else {\n      escapeToBuffer(res, buffer);\n    }\n  }\n};\nvar JSXFragmentNode = class extends JSXNode {\n  toStringToBuffer(buffer) {\n    childrenToStringToBuffer(this.children, buffer);\n  }\n};\nvar jsx = (tag, props, ...children) => {\n  props ??= {};\n  if (children.length) {\n    props.children = children.length === 1 ? children[0] : children;\n  }\n  const key = props.key;\n  delete props[\"key\"];\n  const node = jsxFn(tag, props, children);\n  node.key = key;\n  return node;\n};\nvar initDomRenderer = false;\nvar jsxFn = (tag, props, children) => {\n  if (!initDomRenderer) {\n    for (const k in domRenderers) {\n      ;\n      intrinsicElementTags[k][DOM_RENDERER] = domRenderers[k];\n    }\n    initDomRenderer = true;\n  }\n  if (typeof tag === \"function\") {\n    return new JSXFunctionNode(tag, props, children);\n  } else if (intrinsicElementTags[tag]) {\n    return new JSXFunctionNode(\n      intrinsicElementTags[tag],\n      props,\n      children\n    );\n  } else if (tag === \"svg\" || tag === \"head\") {\n    nameSpaceContext ||= createContext(\"\");\n    return new JSXNode(tag, props, [\n      new JSXFunctionNode(\n        nameSpaceContext,\n        {\n          value: tag\n        },\n        children\n      )\n    ]);\n  } else {\n    return new JSXNode(tag, props, children);\n  }\n};\nvar shallowEqual = (a, b) => {\n  if (a === b) {\n    return true;\n  }\n  const aKeys = Object.keys(a).sort();\n  const bKeys = Object.keys(b).sort();\n  if (aKeys.length !== bKeys.length) {\n    return false;\n  }\n  for (let i = 0, len = aKeys.length; i < len; i++) {\n    if (aKeys[i] === \"children\" && bKeys[i] === \"children\" && !a.children?.length && !b.children?.length) {\n      continue;\n    } else if (a[aKeys[i]] !== b[aKeys[i]]) {\n      return false;\n    }\n  }\n  return true;\n};\nvar memo = (component, propsAreEqual = shallowEqual) => {\n  let computed = null;\n  let prevProps = void 0;\n  const wrapper = (props) => {\n    if (prevProps && !propsAreEqual(prevProps, props)) {\n      computed = null;\n    }\n    prevProps = props;\n    return computed ||= component(props);\n  };\n  wrapper[DOM_MEMO] = propsAreEqual;\n  wrapper[DOM_RENDERER] = component;\n  return wrapper;\n};\nvar Fragment = ({\n  children\n}) => {\n  return new JSXFragmentNode(\n    \"\",\n    {\n      children\n    },\n    Array.isArray(children) ? children : children ? [children] : []\n  );\n};\nvar isValidElement = (element) => {\n  return !!(element && typeof element === \"object\" && \"tag\" in element && \"props\" in element);\n};\nvar cloneElement = (element, props, ...children) => {\n  let childrenToClone;\n  if (children.length > 0) {\n    childrenToClone = children;\n  } else {\n    const c = element.props.children;\n    childrenToClone = Array.isArray(c) ? c : [c];\n  }\n  return jsx(\n    element.tag,\n    { ...element.props, ...props },\n    ...childrenToClone\n  );\n};\nvar reactAPICompatVersion = \"19.0.0-hono-jsx\";\nexport {\n  Fragment,\n  JSXFragmentNode,\n  JSXNode,\n  booleanAttributes,\n  cloneElement,\n  getNameSpaceContext,\n  isValidElement,\n  jsx,\n  jsxFn,\n  memo,\n  reactAPICompatVersion,\n  shallowEqual\n};\n","// src/jsx/dom/utils.ts\nimport { DOM_INTERNAL_TAG } from \"../constants.js\";\nvar setInternalTagFlag = (fn) => {\n  ;\n  fn[DOM_INTERNAL_TAG] = true;\n  return fn;\n};\nexport {\n  setInternalTagFlag\n};\n","// src/jsx/dom/context.ts\nimport { DOM_ERROR_HANDLER } from \"../constants.js\";\nimport { globalContexts } from \"../context.js\";\nimport { setInternalTagFlag } from \"./utils.js\";\nvar createContextProviderFunction = (values) => ({ value, children }) => {\n  if (!children) {\n    return void 0;\n  }\n  const props = {\n    children: [\n      {\n        tag: setInternalTagFlag(() => {\n          values.push(value);\n        }),\n        props: {}\n      }\n    ]\n  };\n  if (Array.isArray(children)) {\n    props.children.push(...children.flat());\n  } else {\n    props.children.push(children);\n  }\n  props.children.push({\n    tag: setInternalTagFlag(() => {\n      values.pop();\n    }),\n    props: {}\n  });\n  const res = { tag: \"\", props, type: \"\" };\n  res[DOM_ERROR_HANDLER] = (err) => {\n    values.pop();\n    throw err;\n  };\n  return res;\n};\nvar createContext = (defaultValue) => {\n  const values = [defaultValue];\n  const context = createContextProviderFunction(values);\n  context.values = values;\n  context.Provider = context;\n  globalContexts.push(context);\n  return context;\n};\nexport {\n  createContext,\n  createContextProviderFunction\n};\n","// src/jsx/context.ts\nimport { raw } from \"../helper/html/index.js\";\nimport { JSXFragmentNode } from \"./base.js\";\nimport { DOM_RENDERER } from \"./constants.js\";\nimport { createContextProviderFunction } from \"./dom/context.js\";\nvar globalContexts = [];\nvar createContext = (defaultValue) => {\n  const values = [defaultValue];\n  const context = (props) => {\n    values.push(props.value);\n    let string;\n    try {\n      string = props.children ? (Array.isArray(props.children) ? new JSXFragmentNode(\"\", {}, props.children) : props.children).toString() : \"\";\n    } finally {\n      values.pop();\n    }\n    if (string instanceof Promise) {\n      return string.then((resString) => raw(resString, resString.callbacks));\n    } else {\n      return raw(string);\n    }\n  };\n  context.values = values;\n  context.Provider = context;\n  context[DOM_RENDERER] = createContextProviderFunction(values);\n  globalContexts.push(context);\n  return context;\n};\nvar useContext = (context) => {\n  return context.values.at(-1);\n};\nexport {\n  createContext,\n  globalContexts,\n  useContext\n};\n","// src/jsx/dom/render.ts\nimport { toArray } from \"../children.js\";\nimport {\n  DOM_ERROR_HANDLER,\n  DOM_INTERNAL_TAG,\n  DOM_MEMO,\n  DOM_RENDERER,\n  DOM_STASH\n} from \"../constants.js\";\nimport { globalContexts as globalJSXContexts, useContext } from \"../context.js\";\nimport { STASH_EFFECT } from \"../hooks/index.js\";\nimport { normalizeIntrinsicElementKey, styleObjectForEach } from \"../utils.js\";\nimport { createContext } from \"./context.js\";\nvar HONO_PORTAL_ELEMENT = \"_hp\";\nvar eventAliasMap = {\n  Change: \"Input\",\n  DoubleClick: \"DblClick\"\n};\nvar nameSpaceMap = {\n  svg: \"2000/svg\",\n  math: \"1998/Math/MathML\"\n};\nvar buildDataStack = [];\nvar refCleanupMap = /* @__PURE__ */ new WeakMap();\nvar nameSpaceContext = void 0;\nvar getNameSpaceContext = () => nameSpaceContext;\nvar isNodeString = (node) => \"t\" in node;\nvar eventCache = {\n  onClick: [\"click\", false]\n};\nvar getEventSpec = (key) => {\n  if (!key.startsWith(\"on\")) {\n    return void 0;\n  }\n  if (eventCache[key]) {\n    return eventCache[key];\n  }\n  const match = key.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);\n  if (match) {\n    const [, eventName, capture] = match;\n    return eventCache[key] = [(eventAliasMap[eventName] || eventName).toLowerCase(), !!capture];\n  }\n  return void 0;\n};\nvar toAttributeName = (element, key) => nameSpaceContext && element instanceof SVGElement && /[A-Z]/.test(key) && (key in element.style || key.match(/^(?:o|pai|str|u|ve)/)) ? key.replace(/([A-Z])/g, \"-$1\").toLowerCase() : key;\nvar applyProps = (container, attributes, oldAttributes) => {\n  attributes ||= {};\n  for (let key in attributes) {\n    const value = attributes[key];\n    if (key !== \"children\" && (!oldAttributes || oldAttributes[key] !== value)) {\n      key = normalizeIntrinsicElementKey(key);\n      const eventSpec = getEventSpec(key);\n      if (eventSpec) {\n        if (oldAttributes?.[key] !== value) {\n          if (oldAttributes) {\n            container.removeEventListener(eventSpec[0], oldAttributes[key], eventSpec[1]);\n          }\n          if (value != null) {\n            if (typeof value !== \"function\") {\n              throw new Error(`Event handler for \"${key}\" is not a function`);\n            }\n            container.addEventListener(eventSpec[0], value, eventSpec[1]);\n          }\n        }\n      } else if (key === \"dangerouslySetInnerHTML\" && value) {\n        container.innerHTML = value.__html;\n      } else if (key === \"ref\") {\n        let cleanup;\n        if (typeof value === \"function\") {\n          cleanup = value(container) || (() => value(null));\n        } else if (value && \"current\" in value) {\n          value.current = container;\n          cleanup = () => value.current = null;\n        }\n        refCleanupMap.set(container, cleanup);\n      } else if (key === \"style\") {\n        const style = container.style;\n        if (typeof value === \"string\") {\n          style.cssText = value;\n        } else {\n          style.cssText = \"\";\n          if (value != null) {\n            styleObjectForEach(value, style.setProperty.bind(style));\n          }\n        }\n      } else {\n        if (key === \"value\") {\n          const nodeName = container.nodeName;\n          if (nodeName === \"INPUT\" || nodeName === \"TEXTAREA\" || nodeName === \"SELECT\") {\n            ;\n            container.value = value === null || value === void 0 || value === false ? null : value;\n            if (nodeName === \"TEXTAREA\") {\n              container.textContent = value;\n              continue;\n            } else if (nodeName === \"SELECT\") {\n              if (container.selectedIndex === -1) {\n                ;\n                container.selectedIndex = 0;\n              }\n              continue;\n            }\n          }\n        } else if (key === \"checked\" && container.nodeName === \"INPUT\" || key === \"selected\" && container.nodeName === \"OPTION\") {\n          ;\n          container[key] = value;\n        }\n        const k = toAttributeName(container, key);\n        if (value === null || value === void 0 || value === false) {\n          container.removeAttribute(k);\n        } else if (value === true) {\n          container.setAttribute(k, \"\");\n        } else if (typeof value === \"string\" || typeof value === \"number\") {\n          container.setAttribute(k, value);\n        } else {\n          container.setAttribute(k, value.toString());\n        }\n      }\n    }\n  }\n  if (oldAttributes) {\n    for (let key in oldAttributes) {\n      const value = oldAttributes[key];\n      if (key !== \"children\" && !(key in attributes)) {\n        key = normalizeIntrinsicElementKey(key);\n        const eventSpec = getEventSpec(key);\n        if (eventSpec) {\n          container.removeEventListener(eventSpec[0], value, eventSpec[1]);\n        } else if (key === \"ref\") {\n          refCleanupMap.get(container)?.();\n        } else {\n          container.removeAttribute(toAttributeName(container, key));\n        }\n      }\n    }\n  }\n};\nvar invokeTag = (context, node) => {\n  node[DOM_STASH][0] = 0;\n  buildDataStack.push([context, node]);\n  const func = node.tag[DOM_RENDERER] || node.tag;\n  const props = func.defaultProps ? {\n    ...func.defaultProps,\n    ...node.props\n  } : node.props;\n  try {\n    return [func.call(null, props)];\n  } finally {\n    buildDataStack.pop();\n  }\n};\nvar getNextChildren = (node, container, nextChildren, childrenToRemove, callbacks) => {\n  if (node.vR?.length) {\n    childrenToRemove.push(...node.vR);\n    delete node.vR;\n  }\n  if (typeof node.tag === \"function\") {\n    node[DOM_STASH][1][STASH_EFFECT]?.forEach((data) => callbacks.push(data));\n  }\n  node.vC.forEach((child) => {\n    if (isNodeString(child)) {\n      nextChildren.push(child);\n    } else {\n      if (typeof child.tag === \"function\" || child.tag === \"\") {\n        child.c = container;\n        const currentNextChildrenIndex = nextChildren.length;\n        getNextChildren(child, container, nextChildren, childrenToRemove, callbacks);\n        if (child.s) {\n          for (let i = currentNextChildrenIndex; i < nextChildren.length; i++) {\n            nextChildren[i].s = true;\n          }\n          child.s = false;\n        }\n      } else {\n        nextChildren.push(child);\n        if (child.vR?.length) {\n          childrenToRemove.push(...child.vR);\n          delete child.vR;\n        }\n      }\n    }\n  });\n};\nvar findInsertBefore = (node) => {\n  for (; ; node = node.tag === HONO_PORTAL_ELEMENT || !node.vC || !node.pP ? node.nN : node.vC[0]) {\n    if (!node) {\n      return null;\n    }\n    if (node.tag !== HONO_PORTAL_ELEMENT && node.e) {\n      return node.e;\n    }\n  }\n};\nvar removeNode = (node) => {\n  if (!isNodeString(node)) {\n    node[DOM_STASH]?.[1][STASH_EFFECT]?.forEach((data) => data[2]?.());\n    refCleanupMap.get(node.e)?.();\n    if (node.p === 2) {\n      node.vC?.forEach((n) => n.p = 2);\n    }\n    node.vC?.forEach(removeNode);\n  }\n  if (!node.p) {\n    node.e?.remove();\n    delete node.e;\n  }\n  if (typeof node.tag === \"function\") {\n    updateMap.delete(node);\n    fallbackUpdateFnArrayMap.delete(node);\n    delete node[DOM_STASH][3];\n    node.a = true;\n  }\n};\nvar apply = (node, container, isNew) => {\n  node.c = container;\n  applyNodeObject(node, container, isNew);\n};\nvar findChildNodeIndex = (childNodes, child) => {\n  if (!child) {\n    return;\n  }\n  for (let i = 0, len = childNodes.length; i < len; i++) {\n    if (childNodes[i] === child) {\n      return i;\n    }\n  }\n  return;\n};\nvar cancelBuild = Symbol();\nvar applyNodeObject = (node, container, isNew) => {\n  const next = [];\n  const remove = [];\n  const callbacks = [];\n  getNextChildren(node, container, next, remove, callbacks);\n  remove.forEach(removeNode);\n  const childNodes = isNew ? void 0 : container.childNodes;\n  let offset;\n  let insertBeforeNode = null;\n  if (isNew) {\n    offset = -1;\n  } else if (!childNodes.length) {\n    offset = 0;\n  } else {\n    const offsetByNextNode = findChildNodeIndex(childNodes, findInsertBefore(node.nN));\n    if (offsetByNextNode !== void 0) {\n      insertBeforeNode = childNodes[offsetByNextNode];\n      offset = offsetByNextNode;\n    } else {\n      offset = findChildNodeIndex(childNodes, next.find((n) => n.tag !== HONO_PORTAL_ELEMENT && n.e)?.e) ?? -1;\n    }\n    if (offset === -1) {\n      isNew = true;\n    }\n  }\n  for (let i = 0, len = next.length; i < len; i++, offset++) {\n    const child = next[i];\n    let el;\n    if (child.s && child.e) {\n      el = child.e;\n      child.s = false;\n    } else {\n      const isNewLocal = isNew || !child.e;\n      if (isNodeString(child)) {\n        if (child.e && child.d) {\n          child.e.textContent = child.t;\n        }\n        child.d = false;\n        el = child.e ||= document.createTextNode(child.t);\n      } else {\n        el = child.e ||= child.n ? document.createElementNS(child.n, child.tag) : document.createElement(child.tag);\n        applyProps(el, child.props, child.pP);\n        applyNodeObject(child, el, isNewLocal);\n      }\n    }\n    if (child.tag === HONO_PORTAL_ELEMENT) {\n      offset--;\n    } else if (isNew) {\n      if (!el.parentNode) {\n        container.appendChild(el);\n      }\n    } else if (childNodes[offset] !== el && childNodes[offset - 1] !== el) {\n      if (childNodes[offset + 1] === el) {\n        container.appendChild(childNodes[offset]);\n      } else {\n        container.insertBefore(el, insertBeforeNode || childNodes[offset] || null);\n      }\n    }\n  }\n  if (node.pP) {\n    delete node.pP;\n  }\n  if (callbacks.length) {\n    const useLayoutEffectCbs = [];\n    const useEffectCbs = [];\n    callbacks.forEach(([, useLayoutEffectCb, , useEffectCb, useInsertionEffectCb]) => {\n      if (useLayoutEffectCb) {\n        useLayoutEffectCbs.push(useLayoutEffectCb);\n      }\n      if (useEffectCb) {\n        useEffectCbs.push(useEffectCb);\n      }\n      useInsertionEffectCb?.();\n    });\n    useLayoutEffectCbs.forEach((cb) => cb());\n    if (useEffectCbs.length) {\n      requestAnimationFrame(() => {\n        useEffectCbs.forEach((cb) => cb());\n      });\n    }\n  }\n};\nvar isSameContext = (oldContexts, newContexts) => !!(oldContexts && oldContexts.length === newContexts.length && oldContexts.every((ctx, i) => ctx[1] === newContexts[i][1]));\nvar fallbackUpdateFnArrayMap = /* @__PURE__ */ new WeakMap();\nvar build = (context, node, children) => {\n  const buildWithPreviousChildren = !children && node.pC;\n  if (children) {\n    node.pC ||= node.vC;\n  }\n  let foundErrorHandler;\n  try {\n    children ||= typeof node.tag == \"function\" ? invokeTag(context, node) : toArray(node.props.children);\n    if (children[0]?.tag === \"\" && children[0][DOM_ERROR_HANDLER]) {\n      foundErrorHandler = children[0][DOM_ERROR_HANDLER];\n      context[5].push([context, foundErrorHandler, node]);\n    }\n    const oldVChildren = buildWithPreviousChildren ? [...node.pC] : node.vC ? [...node.vC] : void 0;\n    const vChildren = [];\n    let prevNode;\n    for (let i = 0; i < children.length; i++) {\n      if (Array.isArray(children[i])) {\n        children.splice(i, 1, ...children[i].flat());\n      }\n      let child = buildNode(children[i]);\n      if (child) {\n        if (typeof child.tag === \"function\" && !child.tag[DOM_INTERNAL_TAG]) {\n          if (globalJSXContexts.length > 0) {\n            child[DOM_STASH][2] = globalJSXContexts.map((c) => [c, c.values.at(-1)]);\n          }\n          if (context[5]?.length) {\n            child[DOM_STASH][3] = context[5].at(-1);\n          }\n        }\n        let oldChild;\n        if (oldVChildren && oldVChildren.length) {\n          const i2 = oldVChildren.findIndex(\n            isNodeString(child) ? (c) => isNodeString(c) : child.key !== void 0 ? (c) => c.key === child.key && c.tag === child.tag : (c) => c.tag === child.tag\n          );\n          if (i2 !== -1) {\n            oldChild = oldVChildren[i2];\n            oldVChildren.splice(i2, 1);\n          }\n        }\n        if (oldChild) {\n          if (isNodeString(child)) {\n            if (oldChild.t !== child.t) {\n              ;\n              oldChild.t = child.t;\n              oldChild.d = true;\n            }\n            child = oldChild;\n          } else {\n            const pP = oldChild.pP = oldChild.props;\n            oldChild.props = child.props;\n            oldChild.f ||= child.f || node.f;\n            if (typeof child.tag === \"function\") {\n              const oldContexts = oldChild[DOM_STASH][2];\n              oldChild[DOM_STASH][2] = child[DOM_STASH][2] || [];\n              oldChild[DOM_STASH][3] = child[DOM_STASH][3];\n              if (!oldChild.f && ((oldChild.o || oldChild) === child.o || oldChild.tag[DOM_MEMO]?.(pP, oldChild.props)) && isSameContext(oldContexts, oldChild[DOM_STASH][2])) {\n                oldChild.s = true;\n              }\n            }\n            child = oldChild;\n          }\n        } else if (!isNodeString(child) && nameSpaceContext) {\n          const ns = useContext(nameSpaceContext);\n          if (ns) {\n            child.n = ns;\n          }\n        }\n        if (!isNodeString(child) && !child.s) {\n          build(context, child);\n          delete child.f;\n        }\n        vChildren.push(child);\n        if (prevNode && !prevNode.s && !child.s) {\n          for (let p = prevNode; p && !isNodeString(p); p = p.vC?.at(-1)) {\n            p.nN = child;\n          }\n        }\n        prevNode = child;\n      }\n    }\n    node.vR = buildWithPreviousChildren ? [...node.vC, ...oldVChildren || []] : oldVChildren || [];\n    node.vC = vChildren;\n    if (buildWithPreviousChildren) {\n      delete node.pC;\n    }\n  } catch (e) {\n    node.f = true;\n    if (e === cancelBuild) {\n      if (foundErrorHandler) {\n        return;\n      } else {\n        throw e;\n      }\n    }\n    const [errorHandlerContext, errorHandler, errorHandlerNode] = node[DOM_STASH]?.[3] || [];\n    if (errorHandler) {\n      const fallbackUpdateFn = () => update([0, false, context[2]], errorHandlerNode);\n      const fallbackUpdateFnArray = fallbackUpdateFnArrayMap.get(errorHandlerNode) || [];\n      fallbackUpdateFnArray.push(fallbackUpdateFn);\n      fallbackUpdateFnArrayMap.set(errorHandlerNode, fallbackUpdateFnArray);\n      const fallback = errorHandler(e, () => {\n        const fnArray = fallbackUpdateFnArrayMap.get(errorHandlerNode);\n        if (fnArray) {\n          const i = fnArray.indexOf(fallbackUpdateFn);\n          if (i !== -1) {\n            fnArray.splice(i, 1);\n            return fallbackUpdateFn();\n          }\n        }\n      });\n      if (fallback) {\n        if (context[0] === 1) {\n          context[1] = true;\n        } else {\n          build(context, errorHandlerNode, [fallback]);\n          if ((errorHandler.length === 1 || context !== errorHandlerContext) && errorHandlerNode.c) {\n            apply(errorHandlerNode, errorHandlerNode.c, false);\n            return;\n          }\n        }\n        throw cancelBuild;\n      }\n    }\n    throw e;\n  } finally {\n    if (foundErrorHandler) {\n      context[5].pop();\n    }\n  }\n};\nvar buildNode = (node) => {\n  if (node === void 0 || node === null || typeof node === \"boolean\") {\n    return void 0;\n  } else if (typeof node === \"string\" || typeof node === \"number\") {\n    return { t: node.toString(), d: true };\n  } else {\n    if (\"vR\" in node) {\n      node = {\n        tag: node.tag,\n        props: node.props,\n        key: node.key,\n        f: node.f,\n        type: node.tag,\n        ref: node.props.ref,\n        o: node.o || node\n      };\n    }\n    if (typeof node.tag === \"function\") {\n      ;\n      node[DOM_STASH] = [0, []];\n    } else {\n      const ns = nameSpaceMap[node.tag];\n      if (ns) {\n        nameSpaceContext ||= createContext(\"\");\n        node.props.children = [\n          {\n            tag: nameSpaceContext,\n            props: {\n              value: node.n = `http://www.w3.org/${ns}`,\n              children: node.props.children\n            }\n          }\n        ];\n      }\n    }\n    return node;\n  }\n};\nvar replaceContainer = (node, from, to) => {\n  if (node.c === from) {\n    node.c = to;\n    node.vC.forEach((child) => replaceContainer(child, from, to));\n  }\n};\nvar updateSync = (context, node) => {\n  node[DOM_STASH][2]?.forEach(([c, v]) => {\n    c.values.push(v);\n  });\n  try {\n    build(context, node, void 0);\n  } catch {\n    return;\n  }\n  if (node.a) {\n    delete node.a;\n    return;\n  }\n  node[DOM_STASH][2]?.forEach(([c]) => {\n    c.values.pop();\n  });\n  if (context[0] !== 1 || !context[1]) {\n    apply(node, node.c, false);\n  }\n};\nvar updateMap = /* @__PURE__ */ new WeakMap();\nvar currentUpdateSets = [];\nvar update = async (context, node) => {\n  context[5] ||= [];\n  const existing = updateMap.get(node);\n  if (existing) {\n    existing[0](void 0);\n  }\n  let resolve;\n  const promise = new Promise((r) => resolve = r);\n  updateMap.set(node, [\n    resolve,\n    () => {\n      if (context[2]) {\n        context[2](context, node, (context2) => {\n          updateSync(context2, node);\n        }).then(() => resolve(node));\n      } else {\n        updateSync(context, node);\n        resolve(node);\n      }\n    }\n  ]);\n  if (currentUpdateSets.length) {\n    ;\n    currentUpdateSets.at(-1).add(node);\n  } else {\n    await Promise.resolve();\n    const latest = updateMap.get(node);\n    if (latest) {\n      updateMap.delete(node);\n      latest[1]();\n    }\n  }\n  return promise;\n};\nvar renderNode = (node, container) => {\n  const context = [];\n  context[5] = [];\n  context[4] = true;\n  build(context, node, void 0);\n  context[4] = false;\n  const fragment = document.createDocumentFragment();\n  apply(node, fragment, true);\n  replaceContainer(node, fragment, container);\n  container.replaceChildren(fragment);\n};\nvar render = (jsxNode, container) => {\n  renderNode(buildNode({ tag: \"\", props: { children: jsxNode } }), container);\n};\nvar flushSync = (callback) => {\n  const set = /* @__PURE__ */ new Set();\n  currentUpdateSets.push(set);\n  callback();\n  set.forEach((node) => {\n    const latest = updateMap.get(node);\n    if (latest) {\n      updateMap.delete(node);\n      latest[1]();\n    }\n  });\n  currentUpdateSets.pop();\n};\nvar createPortal = (children, container, key) => ({\n  tag: HONO_PORTAL_ELEMENT,\n  props: {\n    children\n  },\n  key,\n  e: container,\n  p: 1\n});\nexport {\n  build,\n  buildDataStack,\n  buildNode,\n  createPortal,\n  flushSync,\n  getNameSpaceContext,\n  render,\n  renderNode,\n  update\n};\n","// src/jsx/hooks/index.ts\nimport { DOM_STASH } from \"../constants.js\";\nimport { buildDataStack, update } from \"../dom/render.js\";\nvar STASH_SATE = 0;\nvar STASH_EFFECT = 1;\nvar STASH_CALLBACK = 2;\nvar STASH_MEMO = 3;\nvar STASH_REF = 4;\nvar resolvedPromiseValueMap = /* @__PURE__ */ new WeakMap();\nvar isDepsChanged = (prevDeps, deps) => !prevDeps || !deps || prevDeps.length !== deps.length || deps.some((dep, i) => dep !== prevDeps[i]);\nvar viewTransitionState = void 0;\nvar documentStartViewTransition = (cb) => {\n  if (document?.startViewTransition) {\n    return document.startViewTransition(cb);\n  } else {\n    cb();\n    return { finished: Promise.resolve() };\n  }\n};\nvar updateHook = void 0;\nvar viewTransitionHook = (context, node, cb) => {\n  const state = [true, false];\n  let lastVC = node.vC;\n  return documentStartViewTransition(() => {\n    if (lastVC === node.vC) {\n      viewTransitionState = state;\n      cb(context);\n      viewTransitionState = void 0;\n      lastVC = node.vC;\n    }\n  }).finished.then(() => {\n    if (state[1] && lastVC === node.vC) {\n      state[0] = false;\n      viewTransitionState = state;\n      cb(context);\n      viewTransitionState = void 0;\n    }\n  });\n};\nvar startViewTransition = (callback) => {\n  updateHook = viewTransitionHook;\n  try {\n    callback();\n  } finally {\n    updateHook = void 0;\n  }\n};\nvar useViewTransition = () => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [false, () => {\n    }];\n  }\n  if (viewTransitionState) {\n    viewTransitionState[1] = true;\n  }\n  return [!!viewTransitionState?.[0], startViewTransition];\n};\nvar pendingStack = [];\nvar runCallback = (type, callback) => {\n  let resolve;\n  const promise = new Promise((r) => resolve = r);\n  pendingStack.push([type, promise]);\n  try {\n    const res = callback();\n    if (res instanceof Promise) {\n      res.then(resolve, resolve);\n    } else {\n      resolve();\n    }\n  } finally {\n    pendingStack.pop();\n  }\n};\nvar startTransition = (callback) => {\n  runCallback(1, callback);\n};\nvar startTransitionHook = (callback) => {\n  runCallback(2, callback);\n};\nvar useTransition = () => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [false, () => {\n    }];\n  }\n  const [error, setError] = useState();\n  const [state, updateState] = useState();\n  if (error) {\n    throw error[0];\n  }\n  const startTransitionLocalHook = useCallback(\n    (callback) => {\n      startTransitionHook(() => {\n        updateState((state2) => !state2);\n        let res = callback();\n        if (res instanceof Promise) {\n          res = res.catch((e) => {\n            setError([e]);\n          });\n        }\n        return res;\n      });\n    },\n    [state]\n  );\n  const [context] = buildData;\n  return [context[0] === 2, startTransitionLocalHook];\n};\nvar useDeferredValue = (value, ...rest) => {\n  const [values, setValues] = useState(\n    rest.length ? [rest[0], rest[0]] : [value, value]\n  );\n  if (Object.is(values[1], value)) {\n    return values[1];\n  }\n  pendingStack.push([3, Promise.resolve()]);\n  updateHook = async (context, _, cb) => {\n    cb(context);\n    values[0] = value;\n  };\n  setValues([values[0], value]);\n  updateHook = void 0;\n  pendingStack.pop();\n  return values[0];\n};\nvar useState = (initialState) => {\n  const resolveInitialState = () => typeof initialState === \"function\" ? initialState() : initialState;\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [resolveInitialState(), () => {\n    }];\n  }\n  const [, node] = buildData;\n  const stateArray = node[DOM_STASH][1][STASH_SATE] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  return stateArray[hookIndex] ||= [\n    resolveInitialState(),\n    (newState) => {\n      const localUpdateHook = updateHook;\n      const stateData = stateArray[hookIndex];\n      if (typeof newState === \"function\") {\n        newState = newState(stateData[0]);\n      }\n      if (!Object.is(newState, stateData[0])) {\n        stateData[0] = newState;\n        if (pendingStack.length) {\n          const [pendingType, pendingPromise] = pendingStack.at(-1);\n          Promise.all([\n            pendingType === 3 ? node : update([pendingType, false, localUpdateHook], node),\n            pendingPromise\n          ]).then(([node2]) => {\n            if (!node2 || !(pendingType === 2 || pendingType === 3)) {\n              return;\n            }\n            const lastVC = node2.vC;\n            const addUpdateTask = () => {\n              setTimeout(() => {\n                if (lastVC !== node2.vC) {\n                  return;\n                }\n                update([pendingType === 3 ? 1 : 0, false, localUpdateHook], node2);\n              });\n            };\n            requestAnimationFrame(addUpdateTask);\n          });\n        } else {\n          update([0, false, localUpdateHook], node);\n        }\n      }\n    }\n  ];\n};\nvar useReducer = (reducer, initialArg, init) => {\n  const handler = useCallback(\n    (action) => {\n      setState((state2) => reducer(state2, action));\n    },\n    [reducer]\n  );\n  const [state, setState] = useState(() => init ? init(initialArg) : initialArg);\n  return [state, handler];\n};\nvar useEffectCommon = (index, effect, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return;\n  }\n  const [, node] = buildData;\n  const effectDepsArray = node[DOM_STASH][1][STASH_EFFECT] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const [prevDeps, , prevCleanup] = effectDepsArray[hookIndex] ||= [];\n  if (isDepsChanged(prevDeps, deps)) {\n    if (prevCleanup) {\n      prevCleanup();\n    }\n    const runner = () => {\n      data[index] = void 0;\n      data[2] = effect();\n    };\n    const data = [deps, void 0, void 0, void 0, void 0];\n    data[index] = runner;\n    effectDepsArray[hookIndex] = data;\n  }\n};\nvar useEffect = (effect, deps) => useEffectCommon(3, effect, deps);\nvar useLayoutEffect = (effect, deps) => useEffectCommon(1, effect, deps);\nvar useInsertionEffect = (effect, deps) => useEffectCommon(4, effect, deps);\nvar useCallback = (callback, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return callback;\n  }\n  const [, node] = buildData;\n  const callbackArray = node[DOM_STASH][1][STASH_CALLBACK] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const prevDeps = callbackArray[hookIndex];\n  if (isDepsChanged(prevDeps?.[1], deps)) {\n    callbackArray[hookIndex] = [callback, deps];\n  } else {\n    callback = callbackArray[hookIndex][0];\n  }\n  return callback;\n};\nvar useRef = (initialValue) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return { current: initialValue };\n  }\n  const [, node] = buildData;\n  const refArray = node[DOM_STASH][1][STASH_REF] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  return refArray[hookIndex] ||= { current: initialValue };\n};\nvar use = (promise) => {\n  const cachedRes = resolvedPromiseValueMap.get(promise);\n  if (cachedRes) {\n    if (cachedRes.length === 2) {\n      throw cachedRes[1];\n    }\n    return cachedRes[0];\n  }\n  promise.then(\n    (res) => resolvedPromiseValueMap.set(promise, [res]),\n    (e) => resolvedPromiseValueMap.set(promise, [void 0, e])\n  );\n  throw promise;\n};\nvar useMemo = (factory, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return factory();\n  }\n  const [, node] = buildData;\n  const memoArray = node[DOM_STASH][1][STASH_MEMO] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const prevDeps = memoArray[hookIndex];\n  if (isDepsChanged(prevDeps?.[1], deps)) {\n    memoArray[hookIndex] = [factory(), deps];\n  }\n  return memoArray[hookIndex][0];\n};\nvar idCounter = 0;\nvar useId = () => useMemo(() => `:r${(idCounter++).toString(32)}:`, []);\nvar useDebugValue = (_value, _formatter) => {\n};\nvar createRef = () => {\n  return { current: null };\n};\nvar forwardRef = (Component) => {\n  return (props) => {\n    const { ref, ...rest } = props;\n    return Component(rest, ref);\n  };\n};\nvar useImperativeHandle = (ref, createHandle, deps) => {\n  useEffect(() => {\n    ref.current = createHandle();\n    return () => {\n      ref.current = null;\n    };\n  }, deps);\n};\nvar useSyncExternalStore = (subscribe, getSnapshot, getServerSnapshot) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    if (!getServerSnapshot) {\n      throw new Error(\"getServerSnapshot is required for server side rendering\");\n    }\n    return getServerSnapshot();\n  }\n  const [serverSnapshotIsUsed] = useState(!!(buildData[0][4] && getServerSnapshot));\n  const [state, setState] = useState(\n    () => serverSnapshotIsUsed ? getServerSnapshot() : getSnapshot()\n  );\n  useEffect(() => {\n    if (serverSnapshotIsUsed) {\n      setState(getSnapshot());\n    }\n    return subscribe(() => {\n      setState(getSnapshot());\n    });\n  }, []);\n  return state;\n};\nexport {\n  STASH_EFFECT,\n  createRef,\n  forwardRef,\n  startTransition,\n  startViewTransition,\n  use,\n  useCallback,\n  useDebugValue,\n  useDeferredValue,\n  useEffect,\n  useId,\n  useImperativeHandle,\n  useInsertionEffect,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n  useSyncExternalStore,\n  useTransition,\n  useViewTransition\n};\n","// src/jsx/dom/hooks/index.ts\nimport { PERMALINK } from \"../../constants.js\";\nimport { useContext } from \"../../context.js\";\nimport { useCallback, useState } from \"../../hooks/index.js\";\nimport { createContext } from \"../context.js\";\nvar FormContext = createContext({\n  pending: false,\n  data: null,\n  method: null,\n  action: null\n});\nvar actions = /* @__PURE__ */ new Set();\nvar registerAction = (action) => {\n  actions.add(action);\n  action.finally(() => actions.delete(action));\n};\nvar useFormStatus = () => {\n  return useContext(FormContext);\n};\nvar useOptimistic = (state, updateState) => {\n  const [optimisticState, setOptimisticState] = useState(state);\n  if (actions.size > 0) {\n    Promise.all(actions).finally(() => {\n      setOptimisticState(state);\n    });\n  } else {\n    setOptimisticState(state);\n  }\n  const cb = useCallback((newData) => {\n    setOptimisticState((currentState) => updateState(currentState, newData));\n  }, []);\n  return [optimisticState, cb];\n};\nvar useActionState = (fn, initialState, permalink) => {\n  const [state, setState] = useState(initialState);\n  const actionState = async (data) => {\n    setState(await fn(state, data));\n  };\n  actionState[PERMALINK] = permalink;\n  return [state, actionState];\n};\nexport {\n  FormContext,\n  registerAction,\n  useActionState,\n  useFormStatus,\n  useOptimistic\n};\n","// src/jsx/dom/intrinsic-element/components.ts\nimport { useContext } from \"../../context.js\";\nimport { use, useCallback, useMemo, useState } from \"../../hooks/index.js\";\nimport { dataPrecedenceAttr, deDupeKeyMap, domRenderers } from \"../../intrinsic-element/common.js\";\nimport { FormContext, registerAction } from \"../hooks/index.js\";\nimport { createPortal, getNameSpaceContext } from \"../render.js\";\nvar clearCache = () => {\n  blockingPromiseMap = /* @__PURE__ */ Object.create(null);\n  createdElements = /* @__PURE__ */ Object.create(null);\n};\nvar composeRef = (ref, cb) => {\n  return useMemo(\n    () => (e) => {\n      let refCleanup;\n      if (ref) {\n        if (typeof ref === \"function\") {\n          refCleanup = ref(e) || (() => {\n            ref(null);\n          });\n        } else if (ref && \"current\" in ref) {\n          ref.current = e;\n          refCleanup = () => {\n            ref.current = null;\n          };\n        }\n      }\n      const cbCleanup = cb(e);\n      return () => {\n        cbCleanup?.();\n        refCleanup?.();\n      };\n    },\n    [ref]\n  );\n};\nvar blockingPromiseMap = /* @__PURE__ */ Object.create(null);\nvar createdElements = /* @__PURE__ */ Object.create(null);\nvar documentMetadataTag = (tag, props, preserveNodeType, supportSort, supportBlocking) => {\n  if (props?.itemProp) {\n    return {\n      tag,\n      props,\n      type: tag,\n      ref: props.ref\n    };\n  }\n  const head = document.head;\n  let { onLoad, onError, precedence, blocking, ...restProps } = props;\n  let element = null;\n  let created = false;\n  const deDupeKeys = deDupeKeyMap[tag];\n  let existingElements = void 0;\n  if (deDupeKeys.length > 0) {\n    const tags = head.querySelectorAll(tag);\n    LOOP:\n      for (const e of tags) {\n        for (const key of deDupeKeyMap[tag]) {\n          if (e.getAttribute(key) === props[key]) {\n            element = e;\n            break LOOP;\n          }\n        }\n      }\n    if (!element) {\n      const cacheKey = deDupeKeys.reduce(\n        (acc, key) => props[key] === void 0 ? acc : `${acc}-${key}-${props[key]}`,\n        tag\n      );\n      created = !createdElements[cacheKey];\n      element = createdElements[cacheKey] ||= (() => {\n        const e = document.createElement(tag);\n        for (const key of deDupeKeys) {\n          if (props[key] !== void 0) {\n            e.setAttribute(key, props[key]);\n          }\n          if (props.rel) {\n            e.setAttribute(\"rel\", props.rel);\n          }\n        }\n        return e;\n      })();\n    }\n  } else {\n    existingElements = head.querySelectorAll(tag);\n  }\n  precedence = supportSort ? precedence ?? \"\" : void 0;\n  if (supportSort) {\n    restProps[dataPrecedenceAttr] = precedence;\n  }\n  const insert = useCallback(\n    (e) => {\n      if (deDupeKeys.length > 0) {\n        let found = false;\n        for (const existingElement of head.querySelectorAll(tag)) {\n          if (found && existingElement.getAttribute(dataPrecedenceAttr) !== precedence) {\n            head.insertBefore(e, existingElement);\n            return;\n          }\n          if (existingElement.getAttribute(dataPrecedenceAttr) === precedence) {\n            found = true;\n          }\n        }\n        head.appendChild(e);\n      } else if (existingElements) {\n        let found = false;\n        for (const existingElement of existingElements) {\n          if (existingElement === e) {\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          head.insertBefore(\n            e,\n            head.contains(existingElements[0]) ? existingElements[0] : head.querySelector(tag)\n          );\n        }\n        existingElements = void 0;\n      }\n    },\n    [precedence]\n  );\n  const ref = composeRef(props.ref, (e) => {\n    const key = deDupeKeys[0];\n    if (preserveNodeType === 2) {\n      e.innerHTML = \"\";\n    }\n    if (created || existingElements) {\n      insert(e);\n    }\n    if (!onError && !onLoad) {\n      return;\n    }\n    let promise = blockingPromiseMap[e.getAttribute(key)] ||= new Promise(\n      (resolve, reject) => {\n        e.addEventListener(\"load\", resolve);\n        e.addEventListener(\"error\", reject);\n      }\n    );\n    if (onLoad) {\n      promise = promise.then(onLoad);\n    }\n    if (onError) {\n      promise = promise.catch(onError);\n    }\n    promise.catch(() => {\n    });\n  });\n  if (supportBlocking && blocking === \"render\") {\n    const key = deDupeKeyMap[tag][0];\n    if (props[key]) {\n      const value = props[key];\n      const promise = blockingPromiseMap[value] ||= new Promise((resolve, reject) => {\n        insert(element);\n        element.addEventListener(\"load\", resolve);\n        element.addEventListener(\"error\", reject);\n      });\n      use(promise);\n    }\n  }\n  const jsxNode = {\n    tag,\n    type: tag,\n    props: {\n      ...restProps,\n      ref\n    },\n    ref\n  };\n  jsxNode.p = preserveNodeType;\n  if (element) {\n    jsxNode.e = element;\n  }\n  return createPortal(\n    jsxNode,\n    head\n  );\n};\nvar title = (props) => {\n  const nameSpaceContext = getNameSpaceContext();\n  const ns = nameSpaceContext && useContext(nameSpaceContext);\n  if (ns?.endsWith(\"svg\")) {\n    return {\n      tag: \"title\",\n      props,\n      type: \"title\",\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"title\", props, void 0, false, false);\n};\nvar script = (props) => {\n  if (!props || [\"src\", \"async\"].some((k) => !props[k])) {\n    return {\n      tag: \"script\",\n      props,\n      type: \"script\",\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"script\", props, 1, false, true);\n};\nvar style = (props) => {\n  if (!props || ![\"href\", \"precedence\"].every((k) => k in props)) {\n    return {\n      tag: \"style\",\n      props,\n      type: \"style\",\n      ref: props.ref\n    };\n  }\n  props[\"data-href\"] = props.href;\n  delete props.href;\n  return documentMetadataTag(\"style\", props, 2, true, true);\n};\nvar link = (props) => {\n  if (!props || [\"onLoad\", \"onError\"].some((k) => k in props) || props.rel === \"stylesheet\" && (!(\"precedence\" in props) || \"disabled\" in props)) {\n    return {\n      tag: \"link\",\n      props,\n      type: \"link\",\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"link\", props, 1, \"precedence\" in props, true);\n};\nvar meta = (props) => {\n  return documentMetadataTag(\"meta\", props, void 0, false, false);\n};\nvar customEventFormAction = Symbol();\nvar form = (props) => {\n  const { action, ...restProps } = props;\n  if (typeof action !== \"function\") {\n    ;\n    restProps.action = action;\n  }\n  const [state, setState] = useState([null, false]);\n  const onSubmit = useCallback(\n    async (ev) => {\n      const currentAction = ev.isTrusted ? action : ev.detail[customEventFormAction];\n      if (typeof currentAction !== \"function\") {\n        return;\n      }\n      ev.preventDefault();\n      const formData = new FormData(ev.target);\n      setState([formData, true]);\n      const actionRes = currentAction(formData);\n      if (actionRes instanceof Promise) {\n        registerAction(actionRes);\n        await actionRes;\n      }\n      setState([null, true]);\n    },\n    []\n  );\n  const ref = composeRef(props.ref, (el) => {\n    el.addEventListener(\"submit\", onSubmit);\n    return () => {\n      el.removeEventListener(\"submit\", onSubmit);\n    };\n  });\n  const [data, isDirty] = state;\n  state[1] = false;\n  return {\n    tag: FormContext,\n    props: {\n      value: {\n        pending: data !== null,\n        data,\n        method: data ? \"post\" : null,\n        action: data ? action : null\n      },\n      children: {\n        tag: \"form\",\n        props: {\n          ...restProps,\n          ref\n        },\n        type: \"form\",\n        ref\n      }\n    },\n    f: isDirty\n  };\n};\nvar formActionableElement = (tag, {\n  formAction,\n  ...props\n}) => {\n  if (typeof formAction === \"function\") {\n    const onClick = useCallback((ev) => {\n      ev.preventDefault();\n      ev.currentTarget.form.dispatchEvent(\n        new CustomEvent(\"submit\", { detail: { [customEventFormAction]: formAction } })\n      );\n    }, []);\n    props.ref = composeRef(props.ref, (el) => {\n      el.addEventListener(\"click\", onClick);\n      return () => {\n        el.removeEventListener(\"click\", onClick);\n      };\n    });\n  }\n  return {\n    tag,\n    props,\n    type: tag,\n    ref: props.ref\n  };\n};\nvar input = (props) => formActionableElement(\"input\", props);\nvar button = (props) => formActionableElement(\"button\", props);\nObject.assign(domRenderers, {\n  title,\n  script,\n  style,\n  link,\n  meta,\n  form,\n  input,\n  button\n});\nexport {\n  button,\n  clearCache,\n  composeRef,\n  form,\n  input,\n  link,\n  meta,\n  script,\n  style,\n  title\n};\n","// src/jsx/dom/jsx-dev-runtime.ts\nimport * as intrinsicElementTags from \"./intrinsic-element/components.js\";\nvar jsxDEV = (tag, props, key) => {\n  if (typeof tag === \"string\" && intrinsicElementTags[tag]) {\n    tag = intrinsicElementTags[tag];\n  }\n  return {\n    tag,\n    type: tag,\n    props,\n    key,\n    ref: props.ref\n  };\n};\nvar Fragment = (props) => jsxDEV(\"\", props, void 0);\nexport {\n  Fragment,\n  jsxDEV\n};\n","// src/jsx/streaming.ts\nimport { raw } from \"../helper/html/index.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"../utils/html.js\";\nimport { JSXNode } from \"./base.js\";\nimport { childrenToString } from \"./components.js\";\nimport { DOM_RENDERER, DOM_STASH } from \"./constants.js\";\nimport { createContext, useContext } from \"./context.js\";\nimport { Suspense as SuspenseDomRenderer } from \"./dom/components.js\";\nimport { buildDataStack } from \"./dom/render.js\";\nvar StreamingContext = createContext(null);\nvar suspenseCounter = 0;\nvar Suspense = async ({\n  children,\n  fallback\n}) => {\n  if (!children) {\n    return fallback.toString();\n  }\n  if (!Array.isArray(children)) {\n    children = [children];\n  }\n  const nonce = useContext(StreamingContext)?.scriptNonce;\n  let resArray = [];\n  const stackNode = { [DOM_STASH]: [0, []] };\n  const popNodeStack = (value) => {\n    buildDataStack.pop();\n    return value;\n  };\n  try {\n    stackNode[DOM_STASH][0] = 0;\n    buildDataStack.push([[], stackNode]);\n    resArray = children.map(\n      (c) => c == null || typeof c === \"boolean\" ? \"\" : c.toString()\n    );\n  } catch (e) {\n    if (e instanceof Promise) {\n      resArray = [\n        e.then(() => {\n          stackNode[DOM_STASH][0] = 0;\n          buildDataStack.push([[], stackNode]);\n          return childrenToString(children).then(popNodeStack);\n        })\n      ];\n    } else {\n      throw e;\n    }\n  } finally {\n    popNodeStack();\n  }\n  if (resArray.some((res) => res instanceof Promise)) {\n    const index = suspenseCounter++;\n    const fallbackStr = await fallback.toString();\n    return raw(`<template id=\"H:${index}\"></template>${fallbackStr}<!--/$-->`, [\n      ...fallbackStr.callbacks || [],\n      ({ phase, buffer, context }) => {\n        if (phase === HtmlEscapedCallbackPhase.BeforeStream) {\n          return;\n        }\n        return Promise.all(resArray).then(async (htmlArray) => {\n          htmlArray = htmlArray.flat();\n          const content = htmlArray.join(\"\");\n          if (buffer) {\n            buffer[0] = buffer[0].replace(\n              new RegExp(`<template id=\"H:${index}\"></template>.*?<!--/\\\\$-->`),\n              content\n            );\n          }\n          let html = buffer ? \"\" : `<template data-hono-target=\"H:${index}\">${content}</template><script${nonce ? ` nonce=\"${nonce}\"` : \"\"}>\n((d,c,n) => {\nc=d.currentScript.previousSibling\nd=d.getElementById('H:${index}')\nif(!d)return\ndo{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='/$')\nd.replaceWith(c.content)\n})(document)\n<\\/script>`;\n          const callbacks = htmlArray.map((html2) => html2.callbacks || []).flat();\n          if (!callbacks.length) {\n            return html;\n          }\n          if (phase === HtmlEscapedCallbackPhase.Stream) {\n            html = await resolveCallback(html, HtmlEscapedCallbackPhase.BeforeStream, true, context);\n          }\n          return raw(html, callbacks);\n        });\n      }\n    ]);\n  } else {\n    return raw(resArray.join(\"\"));\n  }\n};\nSuspense[DOM_RENDERER] = SuspenseDomRenderer;\nvar textEncoder = new TextEncoder();\nvar renderToReadableStream = (content, onError = console.trace) => {\n  const reader = new ReadableStream({\n    async start(controller) {\n      try {\n        if (content instanceof JSXNode) {\n          content = content.toString();\n        }\n        const context = typeof content === \"object\" ? content : {};\n        const resolved = await resolveCallback(\n          content,\n          HtmlEscapedCallbackPhase.BeforeStream,\n          true,\n          context\n        );\n        controller.enqueue(textEncoder.encode(resolved));\n        let resolvedCount = 0;\n        const callbacks = [];\n        const then = (promise) => {\n          callbacks.push(\n            promise.catch((err) => {\n              console.log(err);\n              onError(err);\n              return \"\";\n            }).then(async (res) => {\n              res = await resolveCallback(\n                res,\n                HtmlEscapedCallbackPhase.BeforeStream,\n                true,\n                context\n              );\n              res.callbacks?.map((c) => c({ phase: HtmlEscapedCallbackPhase.Stream, context })).filter(Boolean).forEach(then);\n              resolvedCount++;\n              controller.enqueue(textEncoder.encode(res));\n            })\n          );\n        };\n        resolved.callbacks?.map((c) => c({ phase: HtmlEscapedCallbackPhase.Stream, context })).filter(Boolean).forEach(then);\n        while (resolvedCount !== callbacks.length) {\n          await Promise.all(callbacks);\n        }\n      } catch (e) {\n        onError(e);\n      }\n      controller.close();\n    }\n  });\n  return reader;\n};\nexport {\n  StreamingContext,\n  Suspense,\n  renderToReadableStream\n};\n"],"names":["HtmlEscapedCallbackPhase","raw","value","callbacks","escapedString","escapeRe","stringBufferToString","buffer","str","resolvedBuffer","i","r","isEscaped","buf","escapeToBuffer","match","escape","index","lastIndex","resolveCallbackSync","context","c","DOM_RENDERER","DOM_ERROR_HANDLER","DOM_STASH","DOM_INTERNAL_TAG","DOM_MEMO","deDupeKeyMap","domRenderers","dataPrecedenceAttr","toArray","children","normalizeElementKeyMap","normalizeIntrinsicElementKey","key","styleObjectForEach","style","fn","k","v","m","emptyTags","booleanAttributes","childrenToStringToBuffer","len","child","JSXNode","tag","props","__publicField","normalizeKey","styleStr","property","JSXFragmentNode","setInternalTagFlag","createContextProviderFunction","values","res","err","createContext","defaultValue","globalContexts","string","resString","useContext","HONO_PORTAL_ELEMENT","eventAliasMap","nameSpaceMap","buildDataStack","refCleanupMap","nameSpaceContext","getNameSpaceContext","isNodeString","node","eventCache","getEventSpec","eventName","capture","toAttributeName","element","applyProps","container","attributes","oldAttributes","eventSpec","cleanup","nodeName","invokeTag","func","getNextChildren","nextChildren","childrenToRemove","STASH_EFFECT","data","currentNextChildrenIndex","findInsertBefore","removeNode","n","updateMap","fallbackUpdateFnArrayMap","apply","isNew","applyNodeObject","findChildNodeIndex","childNodes","cancelBuild","next","remove","offset","insertBeforeNode","offsetByNextNode","el","isNewLocal","useLayoutEffectCbs","useEffectCbs","useLayoutEffectCb","useEffectCb","useInsertionEffectCb","cb","isSameContext","oldContexts","newContexts","ctx","build","buildWithPreviousChildren","foundErrorHandler","oldVChildren","vChildren","prevNode","buildNode","globalJSXContexts","oldChild","i2","pP","ns","p","e","errorHandlerContext","errorHandler","errorHandlerNode","fallbackUpdateFn","update","fallbackUpdateFnArray","fallback","fnArray","replaceContainer","from","to","updateSync","currentUpdateSets","existing","resolve","promise","context2","latest","renderNode","fragment","render","jsxNode","createPortal","STASH_SATE","STASH_CALLBACK","STASH_MEMO","STASH_REF","resolvedPromiseValueMap","isDepsChanged","prevDeps","deps","dep","updateHook","pendingStack","useState","initialState","_a","resolveInitialState","buildData","stateArray","hookIndex","newState","localUpdateHook","stateData","pendingType","pendingPromise","node2","lastVC","useEffectCommon","effect","effectDepsArray","prevCleanup","runner","useEffect","useCallback","callback","callbackArray","useRef","initialValue","refArray","use","cachedRes","useMemo","factory","memoArray","FormContext","actions","registerAction","action","clearCache","blockingPromiseMap","createdElements","composeRef","ref","refCleanup","cbCleanup","documentMetadataTag","preserveNodeType","supportSort","supportBlocking","head","onLoad","onError","precedence","blocking","restProps","created","deDupeKeys","existingElements","tags","LOOP","cacheKey","acc","insert","found","existingElement","reject","title","script","link","meta","customEventFormAction","form","state","setState","onSubmit","ev","currentAction","formData","actionRes","isDirty","formActionableElement","formAction","onClick","input","button","jsxDEV","intrinsicElementTags","Fragment"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}