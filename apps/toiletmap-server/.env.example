#
# Copy to `.env.local` or `.env` and update with your connection string.
#

# Core infrastructure
# Runtime database connections use Hyperdrive bindings (see wrangler.jsonc)
# - Production: HYPERDRIVE binding
# - Development: TEST_DB binding

# Optional: Override the TEST_DB binding's local connection string
# Use this when you need to connect to a different database than the one
# configured in wrangler.jsonc (e.g., testing against a remote database)
# CLOUDFLARE_HYPERDRIVE_LOCAL_CONNECTION_STRING_TEST_DB=postgresql://user:pass@host:port/db

ENVIRONMENT=development
# Comma-separated list of allowed origins for browser requests.
ALLOWED_ORIGINS=http://localhost:8787

# Ensure that supabase can read in our seed data.
SUPABASE_SCANNER_BUFFER_SIZE=100mb

# Authentication
# Leave these values as-is for the built-in test auth server that `pnpm dev` starts automatically.
AUTH0_ISSUER_BASE_URL=http://127.0.0.1:44555/
AUTH0_AUDIENCE=https://toiletmap.org.uk
AUTH0_CLIENT_ID=test_client_id
AUTH0_CLIENT_SECRET=test_client_secret
AUTH0_REDIRECT_URI=http://localhost:8787/admin/callback
AUTH0_SCOPE=openid profile email offline_access roles access:admin
AUTH0_PROFILE_KEY=name
AUTH0_PERMISSIONS_KEY=https://toiletmap.org.uk/permissions

# Optional: Override with real Auth0 credentials (uncomment + update all values)
# AUTH0_ISSUER_BASE_URL=https://your-tenant.auth0.com/
# AUTH0_AUDIENCE=https://www.toiletmap.org.uk/api
# AUTH0_CLIENT_ID=
# AUTH0_CLIENT_SECRET=
# AUTH0_REDIRECT_URI=http://localhost:8787/admin/callback
# AUTH0_SCOPE=openid profile email offline_access roles access:admin
# AUTH0_PROFILE_KEY=https://toiletmap.org.uk/profile

# Auth0 Management API (only required for admin permission toggles)
AUTH0_MANAGEMENT_CLIENT_ID=
AUTH0_MANAGEMENT_CLIENT_SECRET=
AUTH0_MANAGEMENT_AUDIENCE=
# Set AUTH0_MANAGEMENT_* values only when using real Auth0 (see docs/authentication/configuration.md).
